<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="description" content="My personal website! Using SvelteKit, it's a place for me to showcase my projects and display my brand. My five cents on tech!" />
    <link rel="icon" type="image/svg+xml" href="../coin.svg" />
    <link rel="alternate icon" href="../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
		<link href="../_app/immutable/assets/app.9453fc34.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.8f4f16cf.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/scheduler.e858d4f6.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.c74e9d64.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/control.f5b05b5f.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.1021729f.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/preload-helper.a4192956.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.cd7c875d.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.7d49e394.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/8.b5b79d68.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/17.6a13e615.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/card.e82a3329.js"><title>Web Components 101</title><!-- HEAD_svelte-1hjcmj9_START --><meta property="og:type" content="article"><meta property="og:title" content="Web Components 101"><!-- HEAD_svelte-1hjcmj9_END -->
  </head>
  <body>
    <div id="svelte" class="flex flex-1">  <div class="flex-1 flex flex-col"><nav class="flex items-center justify-between flex-wrap bg-sky-500 p-4 shadow-lg shadow-black"><a href="/" class="flex items-center flex-shrink-0 mr-6" data-svelte-h="svelte-182jekm"><img class="h-8 w-8 mr-2" src="/coin.svg" alt="The Technickel logo, a 5 cent Canadian coin (nickel)"> <span class="font-bold text-2xl tracking-tight text-white">TECHNICKEL</span></a> <div class="block sm:hidden"><button class="flex items-center px-3 py-2 rounded text-sky-200 border-sky-400 hover:text-white hover:border-white" data-svelte-h="svelte-1b9600t"><svg class="fill-current h-6 w-6" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path></svg></button></div> <div class="w-full flex-grow sm:flex sm:items-center sm:w-auto"><div class="text-sm sm:flex-grow"><a href="/blog" class="mt-4 hidden sm:inline-block sm:mt-0 text-sky-200 hover:text-white mr-4">Blog</a> <a href="/projects" class="mt-4 hidden sm:inline-block sm:mt-0 text-sky-200 hover:text-white mr-4">Projects</a> <a href="/contact" class="mt-4 hidden sm:inline-block sm:mt-0 text-sky-200 hover:text-white mr-4">Contact</a> <a href="/support" class="mt-4 hidden sm:inline-block sm:mt-0 text-sky-200 hover:text-white mr-4">Support</a></div></div></nav> <div class="flex-1 flex p-4 md:p-8 justify-center"> <div class="flex flex-col justify-center"><div class="flex justify-center mb-4"><a class="btn m-auto" href="/blog" data-svelte-h="svelte-8nt738">Back to Blogs</a></div> <div class="p-4 rounded overflow-hidden shadow-lg bg-neutral-600 px-4 md:px-16 py-8 break-all md:break-normal"><article class="prose prose-invert"><h1>Web Components 101</h1> <p>2022-03-07 - Bradley Leonard</p> <h2 data-svelte-h="svelte-1a6o8ow">Web components</h2> <p data-svelte-h="svelte-1vgp0l8">You may have heard of components in the past and that’s because it’s not a new concept. Components have been used across many web frameworks as a way to divide pieces of the frontend into re-usable chunks of code. Web components are no different, they make use of native web technologies to encapsulate logic into a re-usable and maintainable unit of code so that you can implement framework agnostic components.</p> <p data-svelte-h="svelte-69jhkl">Web components can be coded using plain js, HTML and CSS but there are plenty of libraries that aim to make it easier to write them. A good comparison of web component libraries can be found <a href="https://webcomponents.dev/blog-images/all-the-ways-to-make-a-web-component/" rel="nofollow">here</a>. We are going to focus on plain old native versions rather than using a library. The technologies behind web components can primarily be broken down into 3 parts that we will cover in this 101 lesson. These parts are Custom Elements, The Shadow Dom and HTML Templates.</p> <p data-svelte-h="svelte-10adtbu">For this demo, we are going to create a web component that shows a lightbulb.</p> <h2 data-svelte-h="svelte-x7ylkm">Custom elements</h2> <p data-svelte-h="svelte-19617o1">Normally HTML exposes a number of elements for us to play with. You might be familiar with a bunch of them like p, h1, div, etc… as they come built in with HTML and modern browsers. Custom elements are exactly like those built in elements, except we get to define their behaviour. A custom element only requires two files. (One if you’re talking about the custom element itself, the other is to test) The first file we will look at is the HTML file we use for testing the component.</p> <!-- HTML_TAG_START --><pre class="shiki github-dark" style="background-color: #24292e" tabindex="0"><code><span class="line"><span style="color: #E1E4E8">&lt;!</span><span style="color: #85E89D">doctype</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">html</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">&lt;</span><span style="color: #85E89D">html</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">lang</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;en&quot;</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">  &lt;</span><span style="color: #85E89D">head</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">meta</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">charset</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;UTF-8&quot;</span><span style="color: #E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">meta</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">name</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;viewport&quot;</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">content</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">title</span><span style="color: #E1E4E8">&gt;Web Components 101&lt;/</span><span style="color: #85E89D">title</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">  &lt;/</span><span style="color: #85E89D">head</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">  &lt;</span><span style="color: #85E89D">body</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">script</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">src</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;lightbulb.js&quot;</span><span style="color: #E1E4E8">&gt;&lt;/</span><span style="color: #85E89D">script</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">lightbulb-component</span><span style="color: #E1E4E8">&gt;&lt;/</span><span style="color: #85E89D">lightbulb-component</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">  &lt;/</span><span style="color: #85E89D">body</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">&lt;/</span><span style="color: #85E89D">html</span><span style="color: #E1E4E8">&gt;</span></span></code></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-endw9b">Most of this file is a pretty standard HTML template, with a head and body. The two lines of interest are in the body itself. The script tag is how we import the custom element as this lets the browser know where to find the code for the custom element. The second line of importance is the <em>lightbulb-component</em> tag itself. This is our custom component! It is responsible for actually displaying our component in the DOM. To look at what is in our component, we will look at the second file: the javascript.</p> <!-- HTML_TAG_START --><pre class="shiki github-dark" style="background-color: #24292e" tabindex="0"><code><span class="line"><span style="color: #F97583">class</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Lightbulb</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">extends</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">HTMLElement</span><span style="color: #E1E4E8"> &#123;</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">constructor</span><span style="color: #E1E4E8">() &#123;</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #79B8FF">super</span><span style="color: #E1E4E8">();</span></span>
<span class="line"><span style="color: #E1E4E8">  &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #B392F0">connectedCallback</span><span style="color: #E1E4E8">() &#123;</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #79B8FF">this</span><span style="color: #E1E4E8">.innerHTML </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">&quot;This is our Lightbulb component&quot;</span><span style="color: #E1E4E8">;</span></span>
<span class="line"><span style="color: #E1E4E8">  &#125;</span></span>
<span class="line"><span style="color: #E1E4E8">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">window.customElements.</span><span style="color: #B392F0">define</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">&quot;lightbulb-component&quot;</span><span style="color: #E1E4E8">, Lightbulb);</span></span></code></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-1jfr4hi">The js isn’t that much more complicated either. At a high level, the file is broken down into two pieces. The first piece is the Custom Element js class and the other being the Custom Element definition. Looking at the js class itself, we can see that it extends the <em>HTMLElement</em> class. This is the base class for all elements which means if you want a starting point for building off an existing element like a p tag, you could do so using the HTMLPElemnt.</p> <p data-svelte-h="svelte-3s3c04">Looking inside the class, every custom element needs a constructor that calls super. This allows the element to set itself up. We have one other method <em>connectedCallback</em> This is a lifecycle method and it triggers when the Custom Element connects to the DOM. Since we have access to the DOM in this method, this is where we can set the content of our web component. Since we want to start small we will just set some text for now.</p> <p data-svelte-h="svelte-17aziei">Now that we are done the class, we can focus on the definition. The definition is pretty simple, the first argument being the name of the web component that we will call on in the HTML. One thing to note about the naming is that you have to have a ’-’ in the name or the component will not be recognized. The second argument is the class that the element is going to use. In our case that is the class that we previously defined.</p> <p data-svelte-h="svelte-ixtgb9">And voila! If you open the html file on a browser you can see our custom element displaying the text we gave it. This is just the start to web components, now we can start adding some more functionality.</p> <div style="text-align:center" data-svelte-h="svelte-vl0uuq"><p><img src="/blog-images/custom_component.png" alt="Lightbulb Custom Component" title="Lightbulb Custom Component"></p> <p><em>Lightbulb Custom Component</em></p></div> <h2 data-svelte-h="svelte-ksgglz">The shadow DOM</h2> <p data-svelte-h="svelte-1vcv87c">We know the DOM as a tree of elements that describe the makeup of a web page, but what if I told you the DOM had a darker more secretive cousin? That cousin is of course the Shadow DOM! The Shadow DOM is like the normal DOM in most ways, except a Shadow DOM belongs to a certain element and encasulates that element’s contents.</p> <p data-svelte-h="svelte-1u263yt">You can think of it much like an apple. The inner contents of an apple are protected by it’s skin. A Shadow DOM isolates the inner makeup of a component. The benefit about this behavior is that the content of the Shadow DOM can be made inacessible to actors outside of the element and pieces like CSS are scoped so that they are unaffected by outer styles. No more guessing which important! is more important than other importants!</p> <p data-svelte-h="svelte-zco4bq">Since the HTML file didn’t really change for the introduction of the Shadow DOM, we will just take a look at the updated js.</p> <!-- HTML_TAG_START --><pre class="shiki github-dark" style="background-color: #24292e" tabindex="0"><code><span class="line"><span style="color: #F97583">class</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Lightbulb</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">extends</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">HTMLElement</span><span style="color: #E1E4E8"> &#123;</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">constructor</span><span style="color: #E1E4E8">() &#123;</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #79B8FF">super</span><span style="color: #E1E4E8">();</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">const</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">shadowRoot</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">this</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">attachShadow</span><span style="color: #E1E4E8">(&#123; mode: </span><span style="color: #9ECBFF">&quot;open&quot;</span><span style="color: #E1E4E8"> &#125;);</span></span>
<span class="line"><span style="color: #E1E4E8">    shadowRoot.innerHTML </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">&#96;</span></span>
<span class="line"><span style="color: #9ECBFF">      &lt;svg style=&quot;width: 24px; height: 24px&quot; viewBox=&quot;0 0 24 24&quot;&gt;</span></span>
<span class="line"><span style="color: #9ECBFF">        &lt;path</span></span>
<span class="line"><span style="color: #9ECBFF">          fill=&quot;#FEE227&quot;</span></span>
<span class="line"><span style="color: #9ECBFF">          d=&quot;M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z&quot;</span></span>
<span class="line"><span style="color: #9ECBFF">        /&gt;</span></span>
<span class="line"><span style="color: #9ECBFF">      &lt;/svg&gt;</span></span>
<span class="line"><span style="color: #9ECBFF">    &#96;</span><span style="color: #E1E4E8">;</span></span>
<span class="line"><span style="color: #E1E4E8">  &#125;</span></span>
<span class="line"><span style="color: #E1E4E8">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">window.customElements.</span><span style="color: #B392F0">define</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">&quot;lightbulb-component&quot;</span><span style="color: #E1E4E8">, Lightbulb);</span></span></code></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-h0c3nj">We added and removed some lines so lets go in order and talk about each one. The class itself and the constructor with <em>super</em> hasn’t changed. We did add 2 lines here. The first line creates the <em>Shadow Root</em>, which is just the root of the Shadow DOM. Since we are calling <em>attachShadow</em> on <em>this</em>, we are attaching the Shadow Root to the Custom Element itself. The other thing to note is that we are attaching the root in <em>open</em> mode. All this mode does is allows the Shadow DOM to be accessed by js outside of the element. If it were set to closed, that access would be unavailable.</p> <p data-svelte-h="svelte-1f2p8dh">Since we initialized the Shadow Root into a variable, we will then use that variable to set the contents of the Custom Element. In the first part, we set the content of the element in the <em>connectedCallback</em> because we needed the element to wait for a time in it’s lifecycle where it could attach to the DOM. Since the Shadow DOM is internal we don’t need that lifecycle hook anymore and can change the contents in the constructor. Since text is boring I’ve swapped the <em>This is our Lightbulb component</em> text for an SVG of a lightbulb. If you want to learn more about SVGs, check out <a href="https://technickel.dev/blog-images/posts/svgs-a-scalable-graphics-format" rel="nofollow">my other blog post on the topic</a>. Finally, nothing has changed with our definition, so we are done!</p> <p data-svelte-h="svelte-tw9bmf">If we took a look at the Custom Element before we implemented the Shadow DOM, we would see the SVG contents of the element plainly in the DOM.</p> <div style="text-align:center" data-svelte-h="svelte-1wrtnfu"><p><img src="/blog-images/no_shadow_dom.png" alt="No Shadow DOM" title="No Shadow DOM"></p> <p><em>No Shadow DOM</em></p></div> <p data-svelte-h="svelte-1x8bmea">When we implement the Shadow DOM, you can see a distinct difference in how the lightbulb component is laid out. Since the Shadow DOM is in open mode, we can see and access all the inner contents. The SVG is now contained INSIDE the Shadow Root.</p> <div style="text-align:center" data-svelte-h="svelte-7akzav"><p><img src="/blog-images/shadow_dom.png" alt="Shadow DOM" title="Shadow DOM"></p> <p><em>Shadow DOM</em></p></div> <h2 data-svelte-h="svelte-13s2j90">HTML templates and slots</h2> <p data-svelte-h="svelte-1dhdklv">The third technology to note is HTML templates. Templates are a HTML tag that doesn’t display content on a page but is used to “template” reusable pieces of UI. Since the templates introduce UI elements to the component, we will also introduce slots in this section to show how you can replace pieces of the UI. Let’s dive into the js again.</p> <!-- HTML_TAG_START --><pre class="shiki github-dark" style="background-color: #24292e" tabindex="0"><code><span class="line"><span style="color: #F97583">const</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">template</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> document.</span><span style="color: #B392F0">createElement</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">&quot;template&quot;</span><span style="color: #E1E4E8">);</span></span>
<span class="line"><span style="color: #E1E4E8">template.innerHTML </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">&#96;</span></span>
<span class="line"><span style="color: #9ECBFF">  &lt;style&gt;</span></span>
<span class="line"><span style="color: #9ECBFF">    .icon &#123;</span></span>
<span class="line"><span style="color: #9ECBFF">      width: 24px;</span></span>
<span class="line"><span style="color: #9ECBFF">      height: 24px</span></span>
<span class="line"><span style="color: #9ECBFF">    &#125;</span></span>
<span class="line"><span style="color: #9ECBFF">  &lt;/style&gt;</span></span>
<span class="line"><span style="color: #9ECBFF">  </span></span>
<span class="line"><span style="color: #9ECBFF">  &lt;slot name=&quot;svg&quot;&gt;</span></span>
<span class="line"><span style="color: #9ECBFF">    &lt;svg class=&quot;icon&quot; viewBox=&quot;0 0 24 24&quot;&gt;</span></span>
<span class="line"><span style="color: #9ECBFF">      &lt;path</span></span>
<span class="line"><span style="color: #9ECBFF">        fill=&quot;#FEE227&quot;</span></span>
<span class="line"><span style="color: #9ECBFF">        d=&quot;M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z&quot;</span></span>
<span class="line"><span style="color: #9ECBFF">      /&gt;</span></span>
<span class="line"><span style="color: #9ECBFF">    &lt;/svg&gt;</span></span>
<span class="line"><span style="color: #9ECBFF">  &lt;/slot&gt;</span></span>
<span class="line"><span style="color: #9ECBFF">&#96;</span><span style="color: #E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">class</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Lightbulb</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">extends</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">HTMLElement</span><span style="color: #E1E4E8"> &#123;</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">constructor</span><span style="color: #E1E4E8">() &#123;</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #79B8FF">super</span><span style="color: #E1E4E8">().</span><span style="color: #B392F0">attachShadow</span><span style="color: #E1E4E8">(&#123; mode: </span><span style="color: #9ECBFF">&quot;open&quot;</span><span style="color: #E1E4E8"> &#125;).</span><span style="color: #B392F0">append</span><span style="color: #E1E4E8">(template.content.</span><span style="color: #B392F0">cloneNode</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">));</span></span>
<span class="line"><span style="color: #E1E4E8">  &#125;</span></span>
<span class="line"><span style="color: #E1E4E8">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">window.customElements.</span><span style="color: #B392F0">define</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">&quot;lightbulb-component&quot;</span><span style="color: #E1E4E8">, Lightbulb);</span></span></code></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-z7h1p7">While we can use a template from outside of our component, from the DOM or an exported file for example, a common practice is to include the template inside of the component to have all of the code encapsulated in one place. We first create a template element in the document and then assign it’s innerHTML the contents that we want to display.</p> <p data-svelte-h="svelte-19g1ct0">You’ll notice in this iteration we’ve even included a style tag. Since we are using the Shadow DOM, this style will not be affected by styles outside of the web component. For example if the “icon” class was defined in an external stylesheet and had a bigger width and height, that would not affect our component because the Shadow DOM scopes CSS. We’ve also surrounded the svg tag with a <em>slot</em>. This slot is given the name of <em>svg</em> and will be talked about more in a bit.</p> <p data-svelte-h="svelte-79vbw5">The rest of the code is the same in the file except for in the constructor. I’ve gone and cleaned up the constructor by making each piece a chain of the next. <em>super</em> returns a reference to the class, which is needed to attach the Shadow Root. The Shadow Root is then used to append the content, so chaining cleans up everything nicely.</p> <p data-svelte-h="svelte-xcivk5">The one line we haven’t seen up to this point is the <em>template.content.clonedNode(true)</em>. This is getting the template we defined earlier in the file, grabing its content and copying it as a node to the Shadow Root. The reason we need to deep clone the content is that if we just used <em>template.content</em> it would actually “move” the template to be used in the Shadow Root. This would mean that you wouldn’t be able to make multiple instances of the web component and so a deep clone is used instead to allow reuse.</p> <p data-svelte-h="svelte-cu3kjk">What if we wanted to swap our lightbulb SVG for nature’s lightbulb, LIGHTNING? Thats where slots come in. Slots allow us to make our components more flexible by swapping out content passed in by the regular DOM as a child of the component. Let’s look at what that looks like with the HTML.</p> <!-- HTML_TAG_START --><pre class="shiki github-dark" style="background-color: #24292e" tabindex="0"><code><span class="line"><span style="color: #E1E4E8">&lt;!</span><span style="color: #85E89D">doctype</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">html</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">&lt;</span><span style="color: #85E89D">html</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">lang</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;en&quot;</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">  &lt;</span><span style="color: #85E89D">head</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">meta</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">charset</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;UTF-8&quot;</span><span style="color: #E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">meta</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">name</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;viewport&quot;</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">content</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">title</span><span style="color: #E1E4E8">&gt;Web Components 101&lt;/</span><span style="color: #85E89D">title</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">  &lt;/</span><span style="color: #85E89D">head</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">  &lt;</span><span style="color: #85E89D">body</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">script</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">src</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;lightbulb.js&quot;</span><span style="color: #E1E4E8">&gt;&lt;/</span><span style="color: #85E89D">script</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">lightbulb-component</span><span style="color: #E1E4E8">&gt;&lt;/</span><span style="color: #85E89D">lightbulb-component</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;</span><span style="color: #85E89D">lightbulb-component</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">      &lt;</span><span style="color: #85E89D">svg</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">slot</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;svg&quot;</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">style</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;width: 24px; height: 24px&quot;</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">viewBox</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;0 0 24 24&quot;</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">        &lt;</span><span style="color: #85E89D">path</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">fill</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;#FEE227&quot;</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">d</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">&quot;M7,2V13H10V22L17,10H13L17,2H7Z&quot;</span><span style="color: #E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">      &lt;/</span><span style="color: #85E89D">svg</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">    &lt;/</span><span style="color: #85E89D">lightbulb-component</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">  &lt;/</span><span style="color: #85E89D">body</span><span style="color: #E1E4E8">&gt;</span></span>
<span class="line"><span style="color: #E1E4E8">&lt;/</span><span style="color: #85E89D">html</span><span style="color: #E1E4E8">&gt;</span></span></code></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-iaai68">As you can see we now have two instances of the lightbulb component. The first one doesn’t make any changes to the underlying component and as such shows up as the original lightbulb. The second instance is a little different however, it has it’s own svg of a lightning bolt which was given the slot <em>svg</em>. In the background as the element is being rendered, the slot with the same name of <em>svg</em> on the web component side is replaced by this svg. The results of this page can be seen below. We see that the slots allow all the functionality of the original web component, but taking advantage of the new content.</p> <div style="text-align:center" data-svelte-h="svelte-1a83fhw"><p><img src="/blog-images/slots.png" alt="Lightbulb component using slots" title="Lightbulb component using slots"></p> <p><em>Lightbulb component using slots</em></p></div> <h2 data-svelte-h="svelte-1k2mvxr">Recap</h2> <p data-svelte-h="svelte-pfp1iy">You have sucessfully combined the 3 technologies to make a web component! Well done! While we only scratched the surface when it comes to web components and their utility, you now know enough to start exploring on your own. There is plenty more to learn, like adding js functionality to your components, styling, attributes and so much more. These components are a great way to add flair into any website and you’re bound to see them everywhere if you look close enough.</p></article></div> <div class="flex justify-center mt-4"><a class="btn m-auto" href="/blog" data-svelte-h="svelte-8nt738">Back to Blogs</a></div></div></div></div> 
			
			<script>
				{
					__sveltekit_14v9eta = {
						base: new URL("..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null];

					Promise.all([
						import("../_app/immutable/entry/start.8f4f16cf.js"),
						import("../_app/immutable/entry/app.1021729f.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 8, 17],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
  </body>
</html>
