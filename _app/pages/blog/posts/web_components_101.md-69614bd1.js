import{S as Ta,i as Ea,s as Ma,e as o,t as l,k as u,c as p,a as c,h as i,d as e,m as h,b as r,L as Pe,g as a,F as n,H as ss}from"../../../chunks/vendor-5cedbe03.js";function Sa(ha){let g,je,Vt,v,We,Ae,Re,qt,G,Ve,Nt,F,qe,Gt,y,Ne,L,Ge,Fe,Ft,Y,Ye,Yt,U,Ue,Ut,z,ze,zt,D,ra=`<code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Web Components 101<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lightbulb.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightbulb-component</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightbulb-component</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code>`,Bt,T,Be,ft,Ze,Je,Zt,O,ma=`<code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Lightbulb</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"This is our Lightbulb component"</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"lightbulb-component"</span><span class="token punctuation">,</span> Lightbulb<span class="token punctuation">)</span><span class="token punctuation">;</span></code>`,Jt,E,Ke,kt,Qe,Xe,Kt,M,$e,dt,tn,en,Qt,B,nn,Xt,Z,sn,$t,J,H,as,te,x,wt,bt,an,ee,K,on,ne,Q,ln,se,X,pn,ae,$,cn,oe,C,fa=`<code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Lightbulb</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> shadowRoot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    shadowRoot<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">
      &lt;svg style="width: 24px; height: 24px" viewBox="0 0 24 24">
        &lt;path
          fill="#FEE227"
          d="M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z"
        />
      &lt;/svg>
    </span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"lightbulb-component"</span><span class="token punctuation">,</span> Lightbulb<span class="token punctuation">)</span><span class="token punctuation">;</span></code>`,le,m,un,gt,hn,rn,vt,mn,fn,yt,kn,dn,Tt,wn,bn,Et,gn,vn,pe,f,yn,Mt,Tn,En,St,Mn,Sn,I,_n,Ln,ie,tt,Dn,ce,et,P,os,ue,j,_t,Lt,On,he,nt,Hn,re,st,W,ls,me,A,Dt,Ot,xn,fe,at,Cn,ke,ot,In,de,R,ka=`<code class="language-js"><span class="token keyword">const</span> template <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"template"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
template<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">
  &lt;style>
    .icon &#123;
      width: 24px;
      height: 24px
    &#125;
  &lt;/style>
  
  &lt;slot name="svg">
    &lt;svg class="icon" viewBox="0 0 24 24">
      &lt;path
        fill="#FEE227"
        d="M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z"
      />
    &lt;/svg>
  &lt;/slot>
</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Lightbulb</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>template<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"lightbulb-component"</span><span class="token punctuation">,</span> Lightbulb<span class="token punctuation">)</span><span class="token punctuation">;</span></code>`,we,lt,Pn,be,d,jn,Ht,Wn,An,xt,Rn,Vn,ge,S,qn,Ct,Nn,Gn,ve,w,Fn,It,Yn,Un,Pt,zn,Bn,ye,pt,Zn,Te,V,da=`<code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Web Components 101<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lightbulb.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightbulb-component</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightbulb-component</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightbulb-component</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>svg<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 24px</span><span class="token punctuation">"</span></span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#FEE227<span class="token punctuation">"</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M7,2V13H10V22L17,10H13L17,2H7Z<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightbulb-component</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code>`,Ee,b,Jn,jt,Kn,Qn,Wt,Xn,$n,Me,it,q,ps,Se,N,At,Rt,ts,_e,ct,es,Le,ut,ns;return{c(){g=o("h1"),je=l(ia),Vt=u(),v=o("p"),We=l(ua),Ae=l(" - "),Re=l(ca),qt=u(),G=o("h2"),Ve=l("Web components"),Nt=u(),F=o("p"),qe=l("You may have heard of components in the past and that\u2019s because it\u2019s not a new concept. Components have been used across many web frameworks as a way to divide pieces of the frontend into re-usable chunks of code. Web components are no different, they make use of native web technologies to encapsulate logic into a re-usable and maintainable unit of code so that you can implement framework agnostic components."),Gt=u(),y=o("p"),Ne=l("Web components can be coded using plain js, HTML and CSS but there are plenty of libraries that aim to make it easier to write them. A good comparison of web component libraries can be found "),L=o("a"),Ge=l("here"),Fe=l(". We are going to focus on plain old native versions rather than using a library. The technologies behind web components can primarily be broken down into 3 parts that we will cover in this 101 lesson. These parts are Custom Elements, The Shadow Dom and HTML Templates."),Ft=u(),Y=o("p"),Ye=l("For this demo, we are going to create a web component that shows a lightbulb."),Yt=u(),U=o("h2"),Ue=l("Custom elements"),Ut=u(),z=o("p"),ze=l("Normally HTML exposes a number of elements for us to play with. You might be familiar with a bunch of them like p, h1, div, etc\u2026 as they come built in with HTML and modern browsers. Custom elements are exactly like those built in elements, except we get to define their behaviour. A custom element only requires two files. (One if you\u2019re talking about the custom element itself, the other is to test) The first file we will look at is the HTML file we use for testing the component."),zt=u(),D=o("pre"),Bt=u(),T=o("p"),Be=l("Most of this file is a pretty standard HTML template, with a head and body. The two lines of interest are in the body itself. The script tag is how we import the custom element as this lets the browser know where to find the code for the custom element. The second line of importance is the "),ft=o("em"),Ze=l("lightbulb-component"),Je=l(" tag itself. This is our custom component! It is responsible for actually displaying our component in the DOM. To look at what is in our component, we will look at the second file: the javascript."),Zt=u(),O=o("pre"),Jt=u(),E=o("p"),Ke=l("The js isn\u2019t that much more complicated either. At a high level, the file is broken down into two pieces. The first piece is the Custom Element js class and the other being the Custom Element definition. Looking at the js class itself, we can see that it extends the "),kt=o("em"),Qe=l("HTMLElement"),Xe=l(" class. This is the base class for all elements which means if you want a starting point for building off an existing element like a p tag, you could do so using the HTMLPElemnt."),Kt=u(),M=o("p"),$e=l("Looking inside the class, every custom element needs a constructor that calls super. This allows the element to set itself up. We have one other method "),dt=o("em"),tn=l("connectedCallback"),en=l(" This is a lifecycle method and it triggers when the Custom Element connects to the DOM. Since we have access to the DOM in this method, this is where we can set the content of our web component. Since we want to start small we will just set some text for now."),Qt=u(),B=o("p"),nn=l("Now that we are done the class, we can focus on the definition. The definition is pretty simple, the first argument being the name of the web component that we will call on in the HTML. One thing to note about the naming is that you have to have a \u2019-\u2019 in the name or the component will not be recognized. The second argument is the class that the element is going to use. In our case that is the class that we previously defined."),Xt=u(),Z=o("p"),sn=l("And voila! If you open the html file on a browser you can see our custom element displaying the text we gave it. This is just the start to web components, now we can start adding some more functionality."),$t=u(),J=o("p"),H=o("img"),te=u(),x=o("div"),wt=o("p"),bt=o("em"),an=l("Lightbulb Custom Component"),ee=u(),K=o("h2"),on=l("The shadow DOM"),ne=u(),Q=o("p"),ln=l("We know the DOM as a tree of elements that describe the makeup of a web page, but what if I told you the DOM had a darker more secretive cousin? That cousin is of course the Shadow DOM! The Shadow DOM is like the normal DOM in most ways, except a Shadow DOM belongs to a certain element and encasulates that element\u2019s contents."),se=u(),X=o("p"),pn=l("You can think of it much like an apple. The inner contents of an apple are protected by it\u2019s skin. A Shadow DOM isolates the inner makeup of a component. The benefit about this behavior is that the content of the Shadow DOM can be made inacessible to actors outside of the element and pieces like CSS are scoped so that they are unaffected by outer styles. No more guessing which important! is more important than other importants!"),ae=u(),$=o("p"),cn=l("Since the HTML file didn\u2019t really change for the introduction of the Shadow DOM, we will just take a look at the updated js."),oe=u(),C=o("pre"),le=u(),m=o("p"),un=l("We added and removed some lines so lets go in order and talk about each one. The class itself and the constructor with "),gt=o("em"),hn=l("super"),rn=l(" hasn\u2019t changed. We did add 2 lines here. The first line creates the "),vt=o("em"),mn=l("Shadow Root"),fn=l(", which is just the root of the Shadow DOM. Since we are calling "),yt=o("em"),kn=l("attachShadow"),dn=l(" on "),Tt=o("em"),wn=l("this"),bn=l(", we are attaching the Shadow Root to the Custom Element itself. The other thing to note is that we are attaching the root in "),Et=o("em"),gn=l("open"),vn=l(" mode. All this mode does is allows the Shadow DOM to be accessed by js outside of the element. If it were set to closed, that access would be unavailable."),pe=u(),f=o("p"),yn=l("Since we initialized the Shadow Root into a variable, we will then use that variable to set the contents of the Custom Element. In the first part, we set the content of the element in the "),Mt=o("em"),Tn=l("connectedCallback"),En=l(" because we needed the element to wait for a time in it\u2019s lifecycle where it could attach to the DOM. Since the Shadow DOM is internal we don\u2019t need that lifecycle hook anymore and can change the contents in the constructor. Since text is boring I\u2019ve swapped the "),St=o("em"),Mn=l("This is our Lightbulb component"),Sn=l(" text for an SVG of a lightbulb. If you want to learn more about SVGs, check out "),I=o("a"),_n=l("my other blog post on the topic"),Ln=l(". Finally, nothing has changed with our definition, so we are done!"),ie=u(),tt=o("p"),Dn=l("If we took a look at the Custom Element before we implemented the Shadow DOM, we would see the SVG contents of the element plainly in the DOM."),ce=u(),et=o("p"),P=o("img"),ue=u(),j=o("div"),_t=o("p"),Lt=o("em"),On=l("No Shadow DOM"),he=u(),nt=o("p"),Hn=l("When we implement the Shadow DOM, you can see a distinct difference in how the lightbulb component is laid out. Since the Shadow DOM is in open mode, we can see and access all the inner contents. The SVG is now contained INSIDE the Shadow Root."),re=u(),st=o("p"),W=o("img"),me=u(),A=o("div"),Dt=o("p"),Ot=o("em"),xn=l("Shadow DOM"),fe=u(),at=o("h2"),Cn=l("HTML templates and slots"),ke=u(),ot=o("p"),In=l("The third technology to note is HTML templates. Templates are a HTML tag that doesn\u2019t display content on a page but is used to \u201Ctemplate\u201D reusable pieces of UI. Since the templates introduce UI elements to the component, we will also introduce slots in this section to show how you can replace pieces of the UI. Let\u2019s dive into the js again."),de=u(),R=o("pre"),we=u(),lt=o("p"),Pn=l("While we can use a template from outside of our component, from the DOM or an exported file for example, a common practice is to include the template inside of the component to have all of the code encapsulated in one place. We first create a template element in the document and then assign it\u2019s innerHTML the contents that we want to display."),be=u(),d=o("p"),jn=l("You\u2019ll notice in this iteration we\u2019ve even included a style tag. Since we are using the Shadow DOM, this style will not be affected by styles outside of the web component. For example if the \u201Cicon\u201D class was defined in an external stylesheet and had a bigger width and height, that would not affect our component because the Shadow DOM scopes CSS. We\u2019ve also surrounded the svg tag with a "),Ht=o("em"),Wn=l("slot"),An=l(". This slot is given the name of "),xt=o("em"),Rn=l("svg"),Vn=l(" and will be talked about more in a bit."),ge=u(),S=o("p"),qn=l("The rest of the code is the same in the file except for in the constructor. I\u2019ve gone and cleaned up the constructor by making each piece a chain of the next. "),Ct=o("em"),Nn=l("super"),Gn=l(" returns a reference to the class, which is needed to attach the Shadow Root. The Shadow Root is then used to append the content, so chaining cleans up everything nicely."),ve=u(),w=o("p"),Fn=l("The one line we haven\u2019t seen up to this point is the "),It=o("em"),Yn=l("template.content.clonedNode(true)"),Un=l(". This is getting the template we defined earlier in the file, grabing its content and copying it as a node to the Shadow Root. The reason we need to deep clone the content is that if we just used "),Pt=o("em"),zn=l("template.content"),Bn=l(" it would actually \u201Cmove\u201D the template to be used in the Shadow Root. This would mean that you wouldn\u2019t be able to make multiple instances of the web component and so a deep clone is used instead to allow reuse."),ye=u(),pt=o("p"),Zn=l("What if we wanted to swap our lightbulb SVG for nature\u2019s lightbulb, LIGHTNING? Thats where slots come in. Slots allow us to make our components more flexible by swapping out content passed in by the regular DOM as a child of the component. Let\u2019s look at what that looks like with the HTML."),Te=u(),V=o("pre"),Ee=u(),b=o("p"),Jn=l("As you can see we now have two instances of the lightbulb component. The first one doesn\u2019t make any changes to the underlying component and as such shows up as the original lightbulb. The second instance is a little different however, it has it\u2019s own svg of a lightning bolt which was given the slot "),jt=o("em"),Kn=l("svg"),Qn=l(". In the background as the element is being rendered, the slot with the same name of "),Wt=o("em"),Xn=l("svg"),$n=l(" on the web component side is replaced by this svg. The results of this page can be seen below. We see that the slots allow all the functionality of the original web component, but taking advantage of the new content."),Me=u(),it=o("p"),q=o("img"),Se=u(),N=o("div"),At=o("p"),Rt=o("em"),ts=l("Lightbulb component using slots"),_e=u(),ct=o("h2"),es=l("Recap"),Le=u(),ut=o("p"),ns=l("You have sucessfully combined the 3 technologies to make a web component! Well done! While we only scratched the surface when it comes to web components and their utility, you now know enough to start exploring on your own. There is plenty more to learn, like adding js functionality to your components, styling, attributes and so much more. These components are a great way to add flair into any website and you\u2019re bound to see them everywhere if you look close enough."),this.h()},l(t){g=p(t,"H1",{});var s=c(g);je=i(s,ia),s.forEach(e),Vt=h(t),v=p(t,"P",{});var De=c(v);We=i(De,ua),Ae=i(De," - "),Re=i(De,ca),De.forEach(e),qt=h(t),G=p(t,"H2",{});var is=c(G);Ve=i(is,"Web components"),is.forEach(e),Nt=h(t),F=p(t,"P",{});var cs=c(F);qe=i(cs,"You may have heard of components in the past and that\u2019s because it\u2019s not a new concept. Components have been used across many web frameworks as a way to divide pieces of the frontend into re-usable chunks of code. Web components are no different, they make use of native web technologies to encapsulate logic into a re-usable and maintainable unit of code so that you can implement framework agnostic components."),cs.forEach(e),Gt=h(t),y=p(t,"P",{});var Oe=c(y);Ne=i(Oe,"Web components can be coded using plain js, HTML and CSS but there are plenty of libraries that aim to make it easier to write them. A good comparison of web component libraries can be found "),L=p(Oe,"A",{href:!0,rel:!0});var us=c(L);Ge=i(us,"here"),us.forEach(e),Fe=i(Oe,". We are going to focus on plain old native versions rather than using a library. The technologies behind web components can primarily be broken down into 3 parts that we will cover in this 101 lesson. These parts are Custom Elements, The Shadow Dom and HTML Templates."),Oe.forEach(e),Ft=h(t),Y=p(t,"P",{});var hs=c(Y);Ye=i(hs,"For this demo, we are going to create a web component that shows a lightbulb."),hs.forEach(e),Yt=h(t),U=p(t,"H2",{});var rs=c(U);Ue=i(rs,"Custom elements"),rs.forEach(e),Ut=h(t),z=p(t,"P",{});var ms=c(z);ze=i(ms,"Normally HTML exposes a number of elements for us to play with. You might be familiar with a bunch of them like p, h1, div, etc\u2026 as they come built in with HTML and modern browsers. Custom elements are exactly like those built in elements, except we get to define their behaviour. A custom element only requires two files. (One if you\u2019re talking about the custom element itself, the other is to test) The first file we will look at is the HTML file we use for testing the component."),ms.forEach(e),zt=h(t),D=p(t,"PRE",{class:!0});var wa=c(D);wa.forEach(e),Bt=h(t),T=p(t,"P",{});var He=c(T);Be=i(He,"Most of this file is a pretty standard HTML template, with a head and body. The two lines of interest are in the body itself. The script tag is how we import the custom element as this lets the browser know where to find the code for the custom element. The second line of importance is the "),ft=p(He,"EM",{});var fs=c(ft);Ze=i(fs,"lightbulb-component"),fs.forEach(e),Je=i(He," tag itself. This is our custom component! It is responsible for actually displaying our component in the DOM. To look at what is in our component, we will look at the second file: the javascript."),He.forEach(e),Zt=h(t),O=p(t,"PRE",{class:!0});var ba=c(O);ba.forEach(e),Jt=h(t),E=p(t,"P",{});var xe=c(E);Ke=i(xe,"The js isn\u2019t that much more complicated either. At a high level, the file is broken down into two pieces. The first piece is the Custom Element js class and the other being the Custom Element definition. Looking at the js class itself, we can see that it extends the "),kt=p(xe,"EM",{});var ks=c(kt);Qe=i(ks,"HTMLElement"),ks.forEach(e),Xe=i(xe," class. This is the base class for all elements which means if you want a starting point for building off an existing element like a p tag, you could do so using the HTMLPElemnt."),xe.forEach(e),Kt=h(t),M=p(t,"P",{});var Ce=c(M);$e=i(Ce,"Looking inside the class, every custom element needs a constructor that calls super. This allows the element to set itself up. We have one other method "),dt=p(Ce,"EM",{});var ds=c(dt);tn=i(ds,"connectedCallback"),ds.forEach(e),en=i(Ce," This is a lifecycle method and it triggers when the Custom Element connects to the DOM. Since we have access to the DOM in this method, this is where we can set the content of our web component. Since we want to start small we will just set some text for now."),Ce.forEach(e),Qt=h(t),B=p(t,"P",{});var ws=c(B);nn=i(ws,"Now that we are done the class, we can focus on the definition. The definition is pretty simple, the first argument being the name of the web component that we will call on in the HTML. One thing to note about the naming is that you have to have a \u2019-\u2019 in the name or the component will not be recognized. The second argument is the class that the element is going to use. In our case that is the class that we previously defined."),ws.forEach(e),Xt=h(t),Z=p(t,"P",{});var bs=c(Z);sn=i(bs,"And voila! If you open the html file on a browser you can see our custom element displaying the text we gave it. This is just the start to web components, now we can start adding some more functionality."),bs.forEach(e),$t=h(t),J=p(t,"P",{});var gs=c(J);H=p(gs,"IMG",{src:!0,alt:!0,title:!0}),gs.forEach(e),te=h(t),x=p(t,"DIV",{class:!0});var vs=c(x);wt=p(vs,"P",{});var ys=c(wt);bt=p(ys,"EM",{});var Ts=c(bt);an=i(Ts,"Lightbulb Custom Component"),Ts.forEach(e),ys.forEach(e),vs.forEach(e),ee=h(t),K=p(t,"H2",{});var Es=c(K);on=i(Es,"The shadow DOM"),Es.forEach(e),ne=h(t),Q=p(t,"P",{});var Ms=c(Q);ln=i(Ms,"We know the DOM as a tree of elements that describe the makeup of a web page, but what if I told you the DOM had a darker more secretive cousin? That cousin is of course the Shadow DOM! The Shadow DOM is like the normal DOM in most ways, except a Shadow DOM belongs to a certain element and encasulates that element\u2019s contents."),Ms.forEach(e),se=h(t),X=p(t,"P",{});var Ss=c(X);pn=i(Ss,"You can think of it much like an apple. The inner contents of an apple are protected by it\u2019s skin. A Shadow DOM isolates the inner makeup of a component. The benefit about this behavior is that the content of the Shadow DOM can be made inacessible to actors outside of the element and pieces like CSS are scoped so that they are unaffected by outer styles. No more guessing which important! is more important than other importants!"),Ss.forEach(e),ae=h(t),$=p(t,"P",{});var _s=c($);cn=i(_s,"Since the HTML file didn\u2019t really change for the introduction of the Shadow DOM, we will just take a look at the updated js."),_s.forEach(e),oe=h(t),C=p(t,"PRE",{class:!0});var ga=c(C);ga.forEach(e),le=h(t),m=p(t,"P",{});var k=c(m);un=i(k,"We added and removed some lines so lets go in order and talk about each one. The class itself and the constructor with "),gt=p(k,"EM",{});var Ls=c(gt);hn=i(Ls,"super"),Ls.forEach(e),rn=i(k," hasn\u2019t changed. We did add 2 lines here. The first line creates the "),vt=p(k,"EM",{});var Ds=c(vt);mn=i(Ds,"Shadow Root"),Ds.forEach(e),fn=i(k,", which is just the root of the Shadow DOM. Since we are calling "),yt=p(k,"EM",{});var Os=c(yt);kn=i(Os,"attachShadow"),Os.forEach(e),dn=i(k," on "),Tt=p(k,"EM",{});var Hs=c(Tt);wn=i(Hs,"this"),Hs.forEach(e),bn=i(k,", we are attaching the Shadow Root to the Custom Element itself. The other thing to note is that we are attaching the root in "),Et=p(k,"EM",{});var xs=c(Et);gn=i(xs,"open"),xs.forEach(e),vn=i(k," mode. All this mode does is allows the Shadow DOM to be accessed by js outside of the element. If it were set to closed, that access would be unavailable."),k.forEach(e),pe=h(t),f=p(t,"P",{});var _=c(f);yn=i(_,"Since we initialized the Shadow Root into a variable, we will then use that variable to set the contents of the Custom Element. In the first part, we set the content of the element in the "),Mt=p(_,"EM",{});var Cs=c(Mt);Tn=i(Cs,"connectedCallback"),Cs.forEach(e),En=i(_," because we needed the element to wait for a time in it\u2019s lifecycle where it could attach to the DOM. Since the Shadow DOM is internal we don\u2019t need that lifecycle hook anymore and can change the contents in the constructor. Since text is boring I\u2019ve swapped the "),St=p(_,"EM",{});var Is=c(St);Mn=i(Is,"This is our Lightbulb component"),Is.forEach(e),Sn=i(_," text for an SVG of a lightbulb. If you want to learn more about SVGs, check out "),I=p(_,"A",{href:!0,rel:!0});var Ps=c(I);_n=i(Ps,"my other blog post on the topic"),Ps.forEach(e),Ln=i(_,". Finally, nothing has changed with our definition, so we are done!"),_.forEach(e),ie=h(t),tt=p(t,"P",{});var js=c(tt);Dn=i(js,"If we took a look at the Custom Element before we implemented the Shadow DOM, we would see the SVG contents of the element plainly in the DOM."),js.forEach(e),ce=h(t),et=p(t,"P",{});var Ws=c(et);P=p(Ws,"IMG",{src:!0,alt:!0,title:!0}),Ws.forEach(e),ue=h(t),j=p(t,"DIV",{class:!0});var As=c(j);_t=p(As,"P",{});var Rs=c(_t);Lt=p(Rs,"EM",{});var Vs=c(Lt);On=i(Vs,"No Shadow DOM"),Vs.forEach(e),Rs.forEach(e),As.forEach(e),he=h(t),nt=p(t,"P",{});var qs=c(nt);Hn=i(qs,"When we implement the Shadow DOM, you can see a distinct difference in how the lightbulb component is laid out. Since the Shadow DOM is in open mode, we can see and access all the inner contents. The SVG is now contained INSIDE the Shadow Root."),qs.forEach(e),re=h(t),st=p(t,"P",{});var Ns=c(st);W=p(Ns,"IMG",{src:!0,alt:!0,title:!0}),Ns.forEach(e),me=h(t),A=p(t,"DIV",{class:!0});var Gs=c(A);Dt=p(Gs,"P",{});var Fs=c(Dt);Ot=p(Fs,"EM",{});var Ys=c(Ot);xn=i(Ys,"Shadow DOM"),Ys.forEach(e),Fs.forEach(e),Gs.forEach(e),fe=h(t),at=p(t,"H2",{});var Us=c(at);Cn=i(Us,"HTML templates and slots"),Us.forEach(e),ke=h(t),ot=p(t,"P",{});var zs=c(ot);In=i(zs,"The third technology to note is HTML templates. Templates are a HTML tag that doesn\u2019t display content on a page but is used to \u201Ctemplate\u201D reusable pieces of UI. Since the templates introduce UI elements to the component, we will also introduce slots in this section to show how you can replace pieces of the UI. Let\u2019s dive into the js again."),zs.forEach(e),de=h(t),R=p(t,"PRE",{class:!0});var va=c(R);va.forEach(e),we=h(t),lt=p(t,"P",{});var Bs=c(lt);Pn=i(Bs,"While we can use a template from outside of our component, from the DOM or an exported file for example, a common practice is to include the template inside of the component to have all of the code encapsulated in one place. We first create a template element in the document and then assign it\u2019s innerHTML the contents that we want to display."),Bs.forEach(e),be=h(t),d=p(t,"P",{});var ht=c(d);jn=i(ht,"You\u2019ll notice in this iteration we\u2019ve even included a style tag. Since we are using the Shadow DOM, this style will not be affected by styles outside of the web component. For example if the \u201Cicon\u201D class was defined in an external stylesheet and had a bigger width and height, that would not affect our component because the Shadow DOM scopes CSS. We\u2019ve also surrounded the svg tag with a "),Ht=p(ht,"EM",{});var Zs=c(Ht);Wn=i(Zs,"slot"),Zs.forEach(e),An=i(ht,". This slot is given the name of "),xt=p(ht,"EM",{});var Js=c(xt);Rn=i(Js,"svg"),Js.forEach(e),Vn=i(ht," and will be talked about more in a bit."),ht.forEach(e),ge=h(t),S=p(t,"P",{});var Ie=c(S);qn=i(Ie,"The rest of the code is the same in the file except for in the constructor. I\u2019ve gone and cleaned up the constructor by making each piece a chain of the next. "),Ct=p(Ie,"EM",{});var Ks=c(Ct);Nn=i(Ks,"super"),Ks.forEach(e),Gn=i(Ie," returns a reference to the class, which is needed to attach the Shadow Root. The Shadow Root is then used to append the content, so chaining cleans up everything nicely."),Ie.forEach(e),ve=h(t),w=p(t,"P",{});var rt=c(w);Fn=i(rt,"The one line we haven\u2019t seen up to this point is the "),It=p(rt,"EM",{});var Qs=c(It);Yn=i(Qs,"template.content.clonedNode(true)"),Qs.forEach(e),Un=i(rt,". This is getting the template we defined earlier in the file, grabing its content and copying it as a node to the Shadow Root. The reason we need to deep clone the content is that if we just used "),Pt=p(rt,"EM",{});var Xs=c(Pt);zn=i(Xs,"template.content"),Xs.forEach(e),Bn=i(rt," it would actually \u201Cmove\u201D the template to be used in the Shadow Root. This would mean that you wouldn\u2019t be able to make multiple instances of the web component and so a deep clone is used instead to allow reuse."),rt.forEach(e),ye=h(t),pt=p(t,"P",{});var $s=c(pt);Zn=i($s,"What if we wanted to swap our lightbulb SVG for nature\u2019s lightbulb, LIGHTNING? Thats where slots come in. Slots allow us to make our components more flexible by swapping out content passed in by the regular DOM as a child of the component. Let\u2019s look at what that looks like with the HTML."),$s.forEach(e),Te=h(t),V=p(t,"PRE",{class:!0});var ya=c(V);ya.forEach(e),Ee=h(t),b=p(t,"P",{});var mt=c(b);Jn=i(mt,"As you can see we now have two instances of the lightbulb component. The first one doesn\u2019t make any changes to the underlying component and as such shows up as the original lightbulb. The second instance is a little different however, it has it\u2019s own svg of a lightning bolt which was given the slot "),jt=p(mt,"EM",{});var ta=c(jt);Kn=i(ta,"svg"),ta.forEach(e),Qn=i(mt,". In the background as the element is being rendered, the slot with the same name of "),Wt=p(mt,"EM",{});var ea=c(Wt);Xn=i(ea,"svg"),ea.forEach(e),$n=i(mt," on the web component side is replaced by this svg. The results of this page can be seen below. We see that the slots allow all the functionality of the original web component, but taking advantage of the new content."),mt.forEach(e),Me=h(t),it=p(t,"P",{});var na=c(it);q=p(na,"IMG",{src:!0,alt:!0,title:!0}),na.forEach(e),Se=h(t),N=p(t,"DIV",{class:!0});var sa=c(N);At=p(sa,"P",{});var aa=c(At);Rt=p(aa,"EM",{});var oa=c(Rt);ts=i(oa,"Lightbulb component using slots"),oa.forEach(e),aa.forEach(e),sa.forEach(e),_e=h(t),ct=p(t,"H2",{});var la=c(ct);es=i(la,"Recap"),la.forEach(e),Le=h(t),ut=p(t,"P",{});var pa=c(ut);ns=i(pa,"You have sucessfully combined the 3 technologies to make a web component! Well done! While we only scratched the surface when it comes to web components and their utility, you now know enough to start exploring on your own. There is plenty more to learn, like adding js functionality to your components, styling, attributes and so much more. These components are a great way to add flair into any website and you\u2019re bound to see them everywhere if you look close enough."),pa.forEach(e),this.h()},h(){r(L,"href","https://webcomponents.dev/blog/all-the-ways-to-make-a-web-component/"),r(L,"rel","nofollow"),r(D,"class","language-html"),r(O,"class","language-js"),Pe(H.src,as="/blog/custom_component.png")||r(H,"src",as),r(H,"alt","Lightbulb Custom Component"),r(H,"title","Lightbulb Custom Component"),r(x,"class","text-center"),r(C,"class","language-js"),r(I,"href","https://technickel.dev/blog/posts/svgs-a-scalable-graphics-format"),r(I,"rel","nofollow"),Pe(P.src,os="/blog/no_shadow_dom.png")||r(P,"src",os),r(P,"alt","No Shadow DOM"),r(P,"title","No Shadow DOM"),r(j,"class","text-center"),Pe(W.src,ls="/blog/shadow_dom.png")||r(W,"src",ls),r(W,"alt","Shadow DOM"),r(W,"title","Shadow DOM"),r(A,"class","text-center"),r(R,"class","language-js"),r(V,"class","language-html"),Pe(q.src,ps="/blog/slots.png")||r(q,"src",ps),r(q,"alt","Lightbulb component using slots"),r(q,"title","Lightbulb component using slots"),r(N,"class","text-center")},m(t,s){a(t,g,s),n(g,je),a(t,Vt,s),a(t,v,s),n(v,We),n(v,Ae),n(v,Re),a(t,qt,s),a(t,G,s),n(G,Ve),a(t,Nt,s),a(t,F,s),n(F,qe),a(t,Gt,s),a(t,y,s),n(y,Ne),n(y,L),n(L,Ge),n(y,Fe),a(t,Ft,s),a(t,Y,s),n(Y,Ye),a(t,Yt,s),a(t,U,s),n(U,Ue),a(t,Ut,s),a(t,z,s),n(z,ze),a(t,zt,s),a(t,D,s),D.innerHTML=ra,a(t,Bt,s),a(t,T,s),n(T,Be),n(T,ft),n(ft,Ze),n(T,Je),a(t,Zt,s),a(t,O,s),O.innerHTML=ma,a(t,Jt,s),a(t,E,s),n(E,Ke),n(E,kt),n(kt,Qe),n(E,Xe),a(t,Kt,s),a(t,M,s),n(M,$e),n(M,dt),n(dt,tn),n(M,en),a(t,Qt,s),a(t,B,s),n(B,nn),a(t,Xt,s),a(t,Z,s),n(Z,sn),a(t,$t,s),a(t,J,s),n(J,H),a(t,te,s),a(t,x,s),n(x,wt),n(wt,bt),n(bt,an),a(t,ee,s),a(t,K,s),n(K,on),a(t,ne,s),a(t,Q,s),n(Q,ln),a(t,se,s),a(t,X,s),n(X,pn),a(t,ae,s),a(t,$,s),n($,cn),a(t,oe,s),a(t,C,s),C.innerHTML=fa,a(t,le,s),a(t,m,s),n(m,un),n(m,gt),n(gt,hn),n(m,rn),n(m,vt),n(vt,mn),n(m,fn),n(m,yt),n(yt,kn),n(m,dn),n(m,Tt),n(Tt,wn),n(m,bn),n(m,Et),n(Et,gn),n(m,vn),a(t,pe,s),a(t,f,s),n(f,yn),n(f,Mt),n(Mt,Tn),n(f,En),n(f,St),n(St,Mn),n(f,Sn),n(f,I),n(I,_n),n(f,Ln),a(t,ie,s),a(t,tt,s),n(tt,Dn),a(t,ce,s),a(t,et,s),n(et,P),a(t,ue,s),a(t,j,s),n(j,_t),n(_t,Lt),n(Lt,On),a(t,he,s),a(t,nt,s),n(nt,Hn),a(t,re,s),a(t,st,s),n(st,W),a(t,me,s),a(t,A,s),n(A,Dt),n(Dt,Ot),n(Ot,xn),a(t,fe,s),a(t,at,s),n(at,Cn),a(t,ke,s),a(t,ot,s),n(ot,In),a(t,de,s),a(t,R,s),R.innerHTML=ka,a(t,we,s),a(t,lt,s),n(lt,Pn),a(t,be,s),a(t,d,s),n(d,jn),n(d,Ht),n(Ht,Wn),n(d,An),n(d,xt),n(xt,Rn),n(d,Vn),a(t,ge,s),a(t,S,s),n(S,qn),n(S,Ct),n(Ct,Nn),n(S,Gn),a(t,ve,s),a(t,w,s),n(w,Fn),n(w,It),n(It,Yn),n(w,Un),n(w,Pt),n(Pt,zn),n(w,Bn),a(t,ye,s),a(t,pt,s),n(pt,Zn),a(t,Te,s),a(t,V,s),V.innerHTML=da,a(t,Ee,s),a(t,b,s),n(b,Jn),n(b,jt),n(jt,Kn),n(b,Qn),n(b,Wt),n(Wt,Xn),n(b,$n),a(t,Me,s),a(t,it,s),n(it,q),a(t,Se,s),a(t,N,s),n(N,At),n(At,Rt),n(Rt,ts),a(t,_e,s),a(t,ct,s),n(ct,es),a(t,Le,s),a(t,ut,s),n(ut,ns)},p:ss,i:ss,o:ss,d(t){t&&e(g),t&&e(Vt),t&&e(v),t&&e(qt),t&&e(G),t&&e(Nt),t&&e(F),t&&e(Gt),t&&e(y),t&&e(Ft),t&&e(Y),t&&e(Yt),t&&e(U),t&&e(Ut),t&&e(z),t&&e(zt),t&&e(D),t&&e(Bt),t&&e(T),t&&e(Zt),t&&e(O),t&&e(Jt),t&&e(E),t&&e(Kt),t&&e(M),t&&e(Qt),t&&e(B),t&&e(Xt),t&&e(Z),t&&e($t),t&&e(J),t&&e(te),t&&e(x),t&&e(ee),t&&e(K),t&&e(ne),t&&e(Q),t&&e(se),t&&e(X),t&&e(ae),t&&e($),t&&e(oe),t&&e(C),t&&e(le),t&&e(m),t&&e(pe),t&&e(f),t&&e(ie),t&&e(tt),t&&e(ce),t&&e(et),t&&e(ue),t&&e(j),t&&e(he),t&&e(nt),t&&e(re),t&&e(st),t&&e(me),t&&e(A),t&&e(fe),t&&e(at),t&&e(ke),t&&e(ot),t&&e(de),t&&e(R),t&&e(we),t&&e(lt),t&&e(be),t&&e(d),t&&e(ge),t&&e(S),t&&e(ve),t&&e(w),t&&e(ye),t&&e(pt),t&&e(Te),t&&e(V),t&&e(Ee),t&&e(b),t&&e(Me),t&&e(it),t&&e(Se),t&&e(N),t&&e(_e),t&&e(ct),t&&e(Le),t&&e(ut)}}}const _a={title:"Web Components 101",author:"Bradley Leonard",date:"2022-03-07",description:"A guide to the basics of web components. Learn the foundations of this really awesome tech and start taking advantage of this cross-framework tool!",tags:["html","web components","web","js","tutorial"]},{title:ia,author:ca,date:ua,description:Da,tags:Oa}=_a;class Ha extends Ta{constructor(g){super();Ea(this,g,null,Sa,Ma,{})}}export{Ha as default,_a as metadata};
